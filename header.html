<div id="nodeContextMenu" class="context-menu">
    <ul>
        <li id="hideNode">Toggle Hide</li>
        <li id="bookmarkNode">Toggle Bookmark</li>
        <li id="deleteNode">Delete</li>
    </ul>
</div>
<div style="position: absolute; top: 10px; right: 10px; z-index: 5;">
<input type="password" id="together-api-key-input" placeholder="Enter Together API Key" style="background-color: pink;"><br>
<input type="password" id="openai-api-key-input" placeholder="Enter Openai API Key" style="background-color: pink;">
<div id="model-checkboxes" style="margin-left: 10px;">
    <label><input type="checkbox" class="model-checkbox" value="mistral" checked style="accent-color: red;"> Mistral</label><br>
    <label><input type="checkbox" class="model-checkbox" value="mistral-instruct" checked style="accent-color: blue;"> Mistral Instruct</label><br>
    <label><input type="checkbox" class="model-checkbox" value="mixtral" checked style="accent-color: orange;"> Mixtral</label><br>
    <label><input type="checkbox" class="model-checkbox" value="mixtral-instruct" checked style="accent-color: green;"> Mixtral Instruct</label><br>
    <label><input type="checkbox" class="model-checkbox" value="llama2" checked style="accent-color: purple;"> LLaMA2</label><br>
    <label><input type="checkbox" class="model-checkbox" value="minihf" style="accent-color: yellow;"> MiniHF</label><br>
    <label><input type="checkbox" class="model-checkbox" value="gpt3t" checked style="accent-color: #afd7af;"> Gpt4</label><br>
    <label><input type="checkbox" class="model-checkbox" value="gpt4t" checked style="accent-color: #d7afff;"> Gpt3</label><br>
    <a href="https://docs.together.ai/docs/inference-models" target="_blank" title="Any of the models at the link available on request." style="font-size: smaller;">More?</a><br>
    <!-- Additional models can be added here -->
</div>
</select>
</div>
    <div style="position: absolute; top: 10px; left: 10px; z-index: 5;">
        <button id="btn-settings">Settings</button>
        <button id="btn-download">Download</button>
        <button id="clear-data-btn">Clear Data</button>
    </div>
    <div id="mynetwork"></div>
    <div id="textEditor">
        <textarea id="fullText" style="width:100%; height:100%;"></textarea>
    </div>
    <div id="background-text">
      <div>Hello and welcome to tinyloom! This is a little loom in one file.<br>
      <br>
      <b>Press '?' at any time to open a help menu.</b><br>
      <br>
      Click anywhere to create your first node. Right click to exit the editor.<br>
      Add your together.ai api key, and press 'r' to generate! Happy looming!<br>
      <br>
      Double click on nodes to see and edit the full text.<br>
      Click on nodes to check them out for generation.<br></div>
    </div>
    <!-- Settings modal for model configuration -->
    <div id="settingsModal">
        <div style="display: flex; justify-content: space-between; height: 50%;">
            <div style="width: 50%; padding-right: 10px;">
                <h3>Settings</h3>
        <h2>Model Configuration</h2>
        <label for="max-tokens-input">Max Tokens:</label>
        <input type="number" id="max-tokens-input" value="50" step="10"><br>
        <label for="temperature-input">Temperature:</label>
        <input type="number" step="0.1" id="temperature-input" value="0.7"><br>
        <label for="top-p-input">Top P:</label>
        <input type="number" step="0.1" id="top-p-input" value="0.7"><br>
        <label for="top-k-input">Top K:</label>
        <input type="number" id="top-k-input" value="50"><br>
        <label for="repetition-penalty-input">Repetition Penalty:</label>
        <input type="number" step="0.1" id="repetition-penalty-input" value="1"><br>
        <label for="stop-sequence-input">Stop Sequence:</label>
        <input type="text" id="stop-sequence-input" value="</s>"><br>
        <label for="completions-input">Completions:</label>
        <input type="number" id="completions-input" value="1">
        <label>(per model!)</label><br>
        <div style="margin-top: 20px;">
            <h3>Display Settings</h3>
            <label><input type="checkbox" id="toggle-model-colors"> Use Model Colors</label><br>
        </div>
            </div>
            <div style="width: 50%; padding-left: 10px;">
                <h3>JSON Data</h3>
                <textarea id="json-data-textarea" style="width:100%; height:90%;"></textarea>
                <button id="export-json-btn">Export JSON</button>
                <button id="import-json-btn">Import JSON</button>
                <div id="json-load-status"></div>
            </div>
        </div>
        <button id="save-settings-btn">Save Settings</button>
    </div>
<div id="infoModal">
    <div style="display: flex; justify-content: space-between; height: 50%;">
        <div style="width: 50%; padding-right: 10px;">
            <h3>Key Shortcuts</h3>
            <ul id="key-shortcuts-list">
              <li><kbd>e</kbd>: Open the editor</li>
              <li><kbd>r</kbd>: Generate new output</li>
              <li><kbd>p</kbd>: Open settings</li>
              <li><kbd>Escape</kbd>: Close the editor</li>
              <li><kbd>w</kbd>: Navigate to parent node</li>
              <li><kbd>a</kbd>: Navigate to left sibling node</li>
              <li><kbd>d</kbd>: Navigate to right sibling node</li>
              <li><kbd>s</kbd>: Navigate to longest text child node</li>
              <li><kbd>Space</kbd>: Toggle visibility of selected node</li>
              <li><kbd>Enter</kbd>: Toggle bookmark of selected node</li>
              <li><kbd>Delete</kbd>: Delete selected node</li>
            </ul>
            <h3>Mouse Options</h3>
            Left click to select a node. This will update the editor if it is open.
            Double click to open the editor on a node.
            Right click on a node for hide, bookmark or delete. These can also be done with keyboard shortcuts.
            Right click on the editor to close it.
        </div>
        <div style="width: 50%; padding-left: 10px;">
            <h3>Stats</h3>
            <div id="stats-container">
                <!-- Stats will be added here -->
            </div>
        </div>
    </div>
</div>
