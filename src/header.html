<div id="nodeContextMenu" class="context-menu">
    <ul>
        <li id="hideNode">Toggle Hide</li>
        <li id="bookmarkNode">Toggle Bookmark</li>
        <li id="deleteNode">Delete</li>
    </ul>
</div>
<div id="model-config-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div id="api-keys-dropdown" class="dropdown">
            <button id="api-keys-dropdown-btn" class="dropbtn">API Keys</button>
            <div id="api-keys-container" class="dropdown-content">
                <input type="password" id="together-api-key-input" placeholder="Together.AI API Key" class="api-key-input">
                <input type="password" id="openai-api-key-input" placeholder="OpenAI API Key" class="api-key-input">
                <input type="password" id="mistral-api-key-input" placeholder="Mistral API Key" class="api-key-input">
                <input type="password" id="google-api-key-input" placeholder="Google API Key" class="api-key-input">
            </div>
        </div>
        <h2>Model Configuration</h2>
        <div id="default-params-container">
            <h3>Default Parameters</h3>
            <!-- Default parameters will be displayed and editable here -->
        </div>
        <div id="model-params-container">
            <h3>Model Parameters</h3>
            <!-- Default parameters will be displayed and editable here -->
        </div>
        <button id="save-model-config-btn">Save Configuration</button>
    </div>
</div>
<div id="default-config-display" style="position: absolute; top: 10px; left: 10px; z-index: 5;">
    <span id="default-max-tokens-display">Max Tokens: --</span>
    <span id="default-temperature-display" style="margin-left: 10px;">Temperature: --</span>
</div>
    <div id="mynetwork"></div>
    <div id="textEditor">
        <textarea id="fullText"></textarea>
    </div>
    <div id="background-text">
      <div>Hello and welcome to MultiLoom! This is a little loom in one file.<br>
      <br>
      <b>Press '?' at any time to open a help menu.</b><br>
      <br>
      Click anywhere to create your first node. Right click to exit the editor.<br>
      Add your together.ai api key, and press 'r' to generate! Happy looming!<br>
      <br>
      Double click on nodes to see and edit the full text.<br>
      Click on nodes to check them out for generation.<br></div>
    </div>
    <!-- Settings modal for model configuration -->
    <div id="settingsModal">
        <div style="display: flex; justify-content: space-between; height: 50%;">
            <div style="width: 50%; padding-right: 10px;">
                <h3>Settings</h3>
        <div style="margin-top: 20px;">
            <h3>Display Settings</h3>
            <label><input type="checkbox" id="toggle-model-colors"> Use Model Colors</label><br>
        </div>
            <h3>Background Color</h3>
            <input type="color" id="background-color-input" title="Choose background color" style="width: 50px; height: 50px; border: none; cursor: pointer;"><br>
            <h3>Tree Layout Settings</h3>
            <label for="level-separation-input">Level Separation:</label>
            <input type="number" id="level-separation-input" value="400"><br>
            <label for="node-spacing-input">Node Spacing:</label>
            <input type="number" id="node-spacing-input" value="250"><br>
            <label for="direction-select">Direction:</label>
            <select id="direction-select">
                <option value="LR">Left to Right</option>
                <option value="RL">Right to Left</option>
                <option value="UD">Up to Down</option>
                <option value="DU">Down to Up</option>
            </select><br>
            </div>
            <div style="width: 50%; padding-left: 10px;">
                <h3>JSON Data</h3>
                <textarea id="json-data-textarea" style="width:100%; height:90%;"></textarea>
                <button id="export-json-btn">Export JSON</button>
                <button id="import-json-btn">Import JSON</button>
            </div>
        </div>
        <button id="btn-settings">Settings</button>
        <button id="btn-download">Download</button>
        <button id="clear-data-btn">Clear Data</button>
    </div>
<div id="infoModal">
    <div style="display: flex; justify-content: space-between; height: 50%;">
        <div style="width: 50%; padding-right: 10px;">
            <h3>Key Shortcuts</h3>
            <ul id="key-shortcuts-list">
              <li><kbd>e</kbd>: Open the editor</li>
              <li><kbd>m</kbd>: Open the model configs</li>
              <li><kbd>r</kbd>: Generate new output</li>
              <li><kbd>p</kbd>: Open settings</li>
              <li><kbd>Escape</kbd>: Close the editor</li>
              <li><kbd>w</kbd>: Navigate to parent node</li>
              <li><kbd>a</kbd>: Navigate to left sibling node</li>
              <li><kbd>d</kbd>: Navigate to right sibling node</li>
              <li><kbd>s</kbd>: Navigate to longest text child node</li>
              <li><kbd>W</kbd>: Increase the max tokens</li>
              <li><kbd>A</kbd>: Decrease the temperature</li>
              <li><kbd>S</kbd>: Decrease the max tokens</li>
              <li><kbd>D</kbd>: Increase the temperature</li>
              <li><kbd>Space</kbd>: Toggle visibility of selected node</li>
              <li><kbd>Enter</kbd>: Toggle bookmark of selected node</li>
              <li><kbd>Delete</kbd>: Delete selected node</li>
            </ul>
            <h3>Mouse Options</h3>
            Left click to select a node. This will update the editor if it is open.
            Double click to open the editor on a node.
            Right click on a node for hide, bookmark or delete. These can also be done with keyboard shortcuts.
            Right click on the editor to close it.
        </div>
        <div style="width: 50%; padding-left: 10px;">
            <h3>Stats</h3>
            <div id="stats-container">
                <!-- Stats will be added here -->
            </div>
        </div>
    </div>
</div>
